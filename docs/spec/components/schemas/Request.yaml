allOf:
  - $ref: '#/components/schemas/RequestKey'
  - type: object
    required:
      - attributes
      - relationships
    properties:
      attributes:
        type: object
        required:
          - module
          - payload
        properties:
          module:
            type: string
            description: Module to grant permission
            example: "slack"
          payload:
            type: object
            format: json.RawMessage
            oneOf:
              - $ref: '#/components/schemas/DeleteUser'
              - $ref: '#/components/schemas/GetUsers'
            description: Already built payload to grant permission <br><br>
              -> "get_users" = action to get users with their permissions from channel in slack<br>
              -> "delete_user" = action to delete user from module (from all links)<br>
      relationships:
        type: object
        required:
          - user
        properties:
          user:
            type: object
            $ref: '#/components/schemas/UserKey'